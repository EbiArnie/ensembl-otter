#!/usr/local/bin/perl -Tw


# Author:        gr5
# Group:         anacode
# Maintainer:    gr5
# Last modified: $Date: 2009-03-09 11:11:07 $
# Id:            $Id: nph-get_accession_types,v 1.7 2009-03-09 11:11:07 jgrg Exp $
# Source:        $Source: /tmp/ENSCOPY-ENSEMBL-OTTER/scripts/apache/Attic/nph-get_accession_types,v $

# Last modified: $Date: 2009-03-09 11:11:07 $
# Id:            $Id: nph-get_accession_types,v 1.7 2009-03-09 11:11:07 jgrg Exp $
# Source:        $Source: /tmp/ENSCOPY-ENSEMBL-OTTER/scripts/apache/Attic/nph-get_accession_types,v $


use strict;
use SangerPaths qw{ core bioperl123 ensembl51 otter51 };

use Bio::Otter::ServerScriptSupport;
use Bio::Otter::Utils::MM;

my $server = Bio::Otter::ServerScriptSupport->new;

my $accs = $server->param('accessions');

my @acc_list = split /,/, $accs;

my $mm = Bio::Otter::Utils::MM->new;

my $types = $mm->get_accession_types(\@acc_list);

my $response = '';

for my $key (keys %$types) {
	$response .= $key."\t".$types->{$key}->[0]."\t".$types->{$key}->[1]."\n";
}

$server->send_response($response);

1;
