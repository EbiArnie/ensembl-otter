#!/usr/local/bin/perl -w

=head1 DESCRIPTION


=head1 OPTIONS

=cut

use strict;
use Bio::Vega::DBSQL::DBAdaptor;
use Bio::EnsEMBL::Utils::Exception qw ( throw warning );
use Bio::Vega::Utils::History qw(history);
use Getopt::Long;

my $dbhost;
my $dbport;
my $dbname;
my $dbuser;
my $dbpass;
my $help;
$|=1;
&GetOptions(
				'dbhost=s'   => \$dbhost,
				'dbport=n'   => \$dbport,
				'dbname=s'   => \$dbname,
				'dbuser=s'   => \$dbuser,
				'dbpass=s'   => \$dbpass,
				'h|help'     => \$help,
			  ) or ($help = 1);


if ($help || !defined ($dbhost) || !defined($dbport) || !defined($dbname) || !defined($dbuser) || !defined($dbpass) ) {
  exec('perldoc', $0);
}

##create a db handle
my $db = Bio::Vega::DBSQL::DBAdaptor->new(
														-dbname => $dbname,
														-host   => $dbhost,
														-user   => $dbuser,
														-port   => $dbport,
														-pass   => $dbpass,
													  );



###start working with the actual dump file


my $history;
my $gene_adaptor=$db->get_GeneAdaptor;
my $genes=$gene_adaptor->fetch_all_versions_by_stable_id('OTTHUMG00000003732');
foreach my $gene (@$genes){
  push @$history,$gene;
}
history($history);






1;

